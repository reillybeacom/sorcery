DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::SetupAndTeardownAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::TestUnitAssertionAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ViewRendering instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ControllerExampleGroup instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("schema_migrations")[0m
  [1m[35m (0.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20101224223620)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255) NOT NULL, "email" varchar(255), "crypted_password" varchar(255), "salt" varchar(255), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20101224223620')
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255)) 
SQLite3::SQLException: table "users" already exists: CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.9ms)[0m  DROP TABLE "users"
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to CreateUsers (20101224223620)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (23.4ms)[0m  DROP TABLE "users"
SQLite3::SQLException: no such table: users: DROP TABLE "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::SetupAndTeardownAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::TestUnitAssertionAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ViewRendering instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ControllerExampleGroup instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20101224223620)
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to AddActivityLoggingToUsers (20101224223624)
  [1m[36m (0.0ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "last_login_at" datetime DEFAULT NULL[0m
SQLite3::SQLException: no such table: users: ALTER TABLE "users" ADD "last_login_at" datetime DEFAULT NULL
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20101224223620)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "users"[0m
SQLite3::SQLException: no such table: users: DROP TABLE "users"
  [1m[35m (0.0ms)[0m  rollback transaction
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::SetupAndTeardownAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::TestUnitAssertionAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ViewRendering instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ControllerExampleGroup instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20101224223620)
  [1m[35m (0.1ms)[0m  DROP TABLE "users"
SQLite3::SQLException: no such table: users: DROP TABLE "users"
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  DROP TABLE "users"
SQLite3::SQLException: no such table: users: DROP TABLE "users"
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to CreateUsers (20101224223620)
  [1m[36m (0.0ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "users"[0m
SQLite3::SQLException: no such table: users: DROP TABLE "users"
  [1m[35m (0.0ms)[0m  rollback transaction
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::SetupAndTeardownAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::TestUnitAssertionAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ViewRendering instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ControllerExampleGroup instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20101224223620)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (3.2ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to AddActivityLoggingToUsers (20101224223624)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "users" ADD "last_login_at" datetime DEFAULT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "users" ADD "last_logout_at" datetime DEFAULT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "users" ADD "last_activity_at" datetime DEFAULT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "users" ADD "last_login_from_ip_address" varchar(255) DEFAULT NULL[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_users_on_last_logout_at_and_last_activity_at" ON "users" ("last_logout_at", "last_activity_at")[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20101224223624')
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["crypted_password", "$2a$04$TqvpD7VcbA1QKPIWiejf4.Ih26QZKSj6Mctc9THvmncLPPIm2HE/K"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "xuWs5t9fxUbFqxQqAJbL"], ["updated_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["crypted_password", "$2a$04$FNAAdWBCMWBCajRMNB7It.fTiRvB1ryqsGWDYX3GgWZdafT8Fy5V2"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "pAaQnCgx5EENNpAiJqGq"], ["updated_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:47:42' )
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["crypted_password", "$2a$04$mXzQq7jnSnpdyXcxB2sRruJBDM..8ntg25YgzmlBwMrThOuqIxeCe"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "dFXqWhSyh5bJEAyJhj5d"], ["updated_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:57:42.624143' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["crypted_password", "$2a$04$NygA.uYei66sijrlcgvQLOTtDDuuytAXslkFFWbMONtvGHarx08vi"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "Y4Y96kB2K5zrr5kpU2ts"], ["updated_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:57:42.635555' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_logout_at" = '2013-10-08 08:57:42.636179' WHERE "users"."id" = 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["crypted_password", "$2a$04$YwL/B7IL/RdJNZ.8qrmScOmSveLoFdZIYBQmPFe8LEbAAEt5u5pqm"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "HrX4tFvFvRRdZ5CNrbHQ"], ["updated_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:57:42.645334' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
Processing by ApplicationController#some_action as HTML
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_activity_at" = '2013-10-08 08:57:42.656433' WHERE "users"."id" = 1[0m
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.1ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["crypted_password", "$2a$04$rstikcs0BYu52Tl/aZFvsuA5rJoILtIPt00uHPowPNXZXxnLhcMCq"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "jFUxysz9hpL7uDJZMxcS"], ["updated_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:57:42.664104' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
Processing by ApplicationController#some_action as HTML
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_activity_at" = '2013-10-08 08:57:42.666980' WHERE "users"."id" = 1
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["crypted_password", "$2a$04$8obCOEJUEzn/PbBVhSOBneC12vJAS/w2.1Bi8Zb6px3ZoEggfCDhi"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "b4rXxKppK7vsDXssES6M"], ["updated_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:57:42.673881' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
Processing by ApplicationController#some_action_making_a_non_persisted_change_to_the_user as HTML
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_activity_at" = '2013-10-08 08:57:42.675981' WHERE "users"."id" = 1[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["crypted_password", "$2a$04$FbrN7i74I36iw2zL7xjUpOYvGLc3Jm8x2VWFiT2MsMZ9RAoPT4GWW"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "m2ShejsUA9zxofyzYq3L"], ["updated_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:57:42.682113' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
Processing by ApplicationController#some_action as HTML
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_activity_at" = '2013-10-08 08:57:42.684435' WHERE "users"."id" = 1[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:47:42' )
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:47:42' )[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["crypted_password", "$2a$04$Qep3ZtqOHRMAhjAuQBsAOODkMMmvcFjwzArvvH3Hk0Pfzx5WKidq."], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "R4cjA9F3SVZbVTw7gEnx"], ["updated_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["crypted_password", "$2a$04$K4q6jzuijeL1IdAfFfFV6Op4WnhqaxKaiXK/4N8Fc2g5sO0alUaTi"], ["email", "bla1@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "pp4LDQMFSaaBrgNz6kDP"], ["updated_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["username", "gizmo1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:57:42.720497' WHERE "users"."id" = 2[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 2
Processing by ApplicationController#some_action as HTML
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_activity_at" = '2013-10-08 08:57:42.722389' WHERE "users"."id" = 2[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["crypted_password", "$2a$04$xjILmTRlhuQKhlL6muCZIOJbnnRwZIkFk.SinZXEoQg8iS4FFaIvO"], ["email", "bla2@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "VbPixxz1xDaezRaPkKeB"], ["updated_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["username", "gizmo2"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:57:42.726117' WHERE "users"."id" = 3[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 3
Processing by ApplicationController#some_action as HTML
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_activity_at" = '2013-10-08 08:57:42.727183' WHERE "users"."id" = 3[0m
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["crypted_password", "$2a$04$wxcll94ng6zXfR9LhIeULOUSkDV3wl6AvkSm5/PEt04mcTJLTep/W"], ["email", "bla3@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "S4JzMsyb5pMpYNJunKf5"], ["updated_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["username", "gizmo3"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:57:42.730563' WHERE "users"."id" = 4[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 4
Processing by ApplicationController#some_action as HTML
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_activity_at" = '2013-10-08 08:57:42.731529' WHERE "users"."id" = 4[0m
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:47:42' )
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:47:42' )[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:47:42' )
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:47:42' )[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["crypted_password", "$2a$04$XEYXVkCyH4SteauQOpQGd.0Gz8urFL3vbVk7rqiYuc5hjPMMNYV4S"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "p34Wk49otPzCEeDsAiyv"], ["updated_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["crypted_password", "$2a$04$LSjfLB1b5YSoNCZ021.zMeTz921Zqlfx3xcvoZCF3pKCxCGyAKakS"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "gjJjFsqNuNDVdC9YbQ7z"], ["updated_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["crypted_password", "$2a$04$oAiaquqGAEGFAhSpfZGsce2UXm9dxpxGV6jCX8VvnnFusDSJvnJTm"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "ex6r6hyLL2VUJN1xKsDZ"], ["updated_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
Processing by ApplicationController#some_action as HTML
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["crypted_password", "$2a$04$cv/q6qw1o77DO1etRY6EdOMUBUU4LeRGmYPKgShU3Qy3emzrQHK5G"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "G74v1HceDBD2ZkPrsngA"], ["updated_at", Tue, 08 Oct 2013 08:57:42 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by ApplicationController#some_action as HTML
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to AddActivityLoggingToUsers (20101224223624)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_users_on_last_logout_at_and_last_activity_at')[0m
  [1m[35m (0.2ms)[0m  DROP INDEX "index_users_on_last_logout_at_and_last_activity_at"
  [1m[36m (0.3ms)[0m  [1mCREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_logout_at" datetime, "last_activity_at" datetime, "last_login_from_ip_address" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "users"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "users"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_logout_at" datetime, "last_login_from_ip_address" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("altered_users")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "altered_users"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "altered_users"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_logout_at" datetime, "last_login_from_ip_address" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "users"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "users"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_login_from_ip_address" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("altered_users")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "altered_users"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "altered_users"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_login_from_ip_address" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "users"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "users"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_from_ip_address" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("altered_users")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "altered_users"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "altered_users"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_from_ip_address" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "users"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "users"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("altered_users")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "altered_users"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "altered_users"
  [1m[36m (0.1ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20101224223624'[0m
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (1.0ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20101224223620)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "users"[0m
SQLite3::SQLException: no such table: users: DROP TABLE "users"
  [1m[35m (0.0ms)[0m  rollback transaction
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::SetupAndTeardownAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::TestUnitAssertionAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ViewRendering instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ControllerExampleGroup instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20101224223620)
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (3.0ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to AddActivityLoggingToUsers (20101224223624)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "users" ADD "last_login_at" datetime DEFAULT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "users" ADD "last_logout_at" datetime DEFAULT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "users" ADD "last_activity_at" datetime DEFAULT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "users" ADD "last_login_from_ip_address" varchar(255) DEFAULT NULL[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_users_on_last_logout_at_and_last_activity_at" ON "users" ("last_logout_at", "last_activity_at")[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20101224223624')
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["crypted_password", "$2a$04$BnrJ.FVm8.nOVV9abyMgm.PGi6KsEMNEICuu6GG45VgojGAVhlnEu"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "c2bK7dexLAriSdp5rCeB"], ["updated_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["crypted_password", "$2a$04$JaK8WnoWSQEDlZWoCQOuLeYcjiRjsLrtbdHlxoDWdasCLckQA15MC"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "qLPTNM1XfJQB9AWYxjyk"], ["updated_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:47:57' )
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["crypted_password", "$2a$04$.OiMTL3oKqV/0wG2sNDpNuuiGmNvZhB.iGtybIPk0EcFmFEhFEaiG"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "M2LrbP7tmqne5qYgHpDN"], ["updated_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:57:57.165221' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["crypted_password", "$2a$04$zQpFXLFzuhD5l4BTJLlDKeNi5QLWil0LlwjHw7tZ6Y9QHTAxWVN76"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "p8pNxqV2rqzgfEpjCyp3"], ["updated_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:57:57.176877' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_logout_at" = '2013-10-08 08:57:57.177627' WHERE "users"."id" = 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["crypted_password", "$2a$04$6DSGE/uRgyMTv8FR6RFVAOPbkNL31RRwb/8JYDoWsYf6FuVdY5QWG"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "WBjAYtzzMHmHcKpu8R2w"], ["updated_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:57:57.186063' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
Processing by ApplicationController#some_action as HTML
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_activity_at" = '2013-10-08 08:57:57.195547' WHERE "users"."id" = 1[0m
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.1ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["crypted_password", "$2a$04$Wek5s7F/s3bnWU9qVD16luTAe0fdwXp7INzMVr9yRaU.AND5hnJye"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "pnps8WxqpC9KutS5RzaJ"], ["updated_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:57:57.202968' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
Processing by ApplicationController#some_action as HTML
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_activity_at" = '2013-10-08 08:57:57.205869' WHERE "users"."id" = 1
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["crypted_password", "$2a$04$Jp2uYwEvWkzqJW2jzWjYfOLfKth.TY6cGLRxNQqs6JAhPrfd6ycQe"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "X83ySjpTJPqQWrNJvkYY"], ["updated_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:57:57.212744' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
Processing by ApplicationController#some_action_making_a_non_persisted_change_to_the_user as HTML
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_activity_at" = '2013-10-08 08:57:57.214811' WHERE "users"."id" = 1[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["crypted_password", "$2a$04$9sZAPdU8fs3aF23rmekaquePgUQPd3.Gli.qXQek4bI6nINq3MOHW"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "aNqa4WGfseywBZqAniB2"], ["updated_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:57:57.221059' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
Processing by ApplicationController#some_action as HTML
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_activity_at" = '2013-10-08 08:57:57.249347' WHERE "users"."id" = 1[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:47:57' )
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:47:57' )[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["crypted_password", "$2a$04$O2sclctA.VDzUyn7MOzv.eVXrJq4BYUTnqpoLc00hFuHAgow7aGXW"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "kpb3KhLKDUpAUUUPe6Fa"], ["updated_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["crypted_password", "$2a$04$/MBy7ABJYGNWB2RL4bFk..NQhVmmT6Pgol0Y5UqfBnkRWUTxcAlyq"], ["email", "bla1@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "FnAv9q9izmrzvXBuSsQL"], ["updated_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["username", "gizmo1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:57:57.260000' WHERE "users"."id" = 2[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 2
Processing by ApplicationController#some_action as HTML
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_activity_at" = '2013-10-08 08:57:57.261903' WHERE "users"."id" = 2[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["crypted_password", "$2a$04$XtimPSGyVhU3j0qDL0X9y.JWGWfzOEzBR9ZDmZ3xm1Oz.q20lL0Xy"], ["email", "bla2@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "ygxfEmTpcxMaaxkqUNcs"], ["updated_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["username", "gizmo2"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:57:57.265990' WHERE "users"."id" = 3[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 3
Processing by ApplicationController#some_action as HTML
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_activity_at" = '2013-10-08 08:57:57.267455' WHERE "users"."id" = 3[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["crypted_password", "$2a$04$EYueLvz13Mk0ys2zs7Cnf.VBmSCjqbXVcjyQvgPfBlWr6zLOEPEo."], ["email", "bla3@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "BvbDdzXxGKJwzkZmVxY4"], ["updated_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["username", "gizmo3"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:57:57.271065' WHERE "users"."id" = 4[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 4
Processing by ApplicationController#some_action as HTML
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_activity_at" = '2013-10-08 08:57:57.272110' WHERE "users"."id" = 4[0m
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:47:57' )
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:47:57' )[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:47:57' )
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:47:57' )[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["crypted_password", "$2a$04$AnxBQ8igrWwVvfjJFla0AeH2olbXROA.2ha0EY6r6pHNtqVZi/3nW"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "66sQFXBXKW1nptGL1rQ6"], ["updated_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["crypted_password", "$2a$04$fuxDJRw7yoIyvs6XQqEIEuEOMU1WX2YY81f6SfxzeYTTUMxmEBVsy"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "nxqXWRw27cHEVHmRKH6q"], ["updated_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["crypted_password", "$2a$04$oWMSMomSUDnaQL6wnb.SZuoduQkkcbOK2HFsbWD6FzR4Gpog5UB7m"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "4apWtBAHjeJZJyujWXxs"], ["updated_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
Processing by ApplicationController#some_action as HTML
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["crypted_password", "$2a$04$I3pPGccaf5L0lz.pNImOI.21b3CfqHdNHsho.U1kOZuox0tL2Vkt."], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "gqjZrJPN7sqNvFbL6hgC"], ["updated_at", Tue, 08 Oct 2013 08:57:57 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by ApplicationController#some_action as HTML
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to AddActivityLoggingToUsers (20101224223624)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_users_on_last_logout_at_and_last_activity_at')[0m
  [1m[35m (0.2ms)[0m  DROP INDEX "index_users_on_last_logout_at_and_last_activity_at"
  [1m[36m (0.4ms)[0m  [1mCREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_logout_at" datetime, "last_activity_at" datetime, "last_login_from_ip_address" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "users"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "users"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_logout_at" datetime, "last_login_from_ip_address" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("altered_users")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "altered_users"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "altered_users"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_logout_at" datetime, "last_login_from_ip_address" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "users"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "users"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_login_from_ip_address" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("altered_users")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "altered_users"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "altered_users"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_login_from_ip_address" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "users"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "users"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_from_ip_address" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("altered_users")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "altered_users"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "altered_users"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_from_ip_address" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "users"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "users"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("altered_users")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "altered_users"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "altered_users"
  [1m[36m (0.1ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20101224223624'[0m
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to CreateUsers (20101224223620)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "users"
  [1m[36m (0.1ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20101224223620'[0m
  [1m[35m (0.7ms)[0m  commit transaction
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::SetupAndTeardownAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::TestUnitAssertionAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ViewRendering instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ControllerExampleGroup instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20101224223620)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255) NOT NULL, "email" varchar(255), "crypted_password" varchar(255), "salt" varchar(255), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20101224223620')[0m
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255)) [0m
SQLite3::SQLException: table "users" already exists: CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255)) 
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to CreateUsers (20101224223620)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "users"
  [1m[36m (0.1ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20101224223620'[0m
  [1m[35m (0.7ms)[0m  commit transaction
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::SetupAndTeardownAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::TestUnitAssertionAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ViewRendering instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ControllerExampleGroup instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20101224223620)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255) NOT NULL, "email" varchar(255), "crypted_password" varchar(255), "salt" varchar(255), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20101224223620')[0m
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (1.0ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to AddActivityLoggingToUsers (20101224223624)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ADD "last_login_at" datetime DEFAULT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "users" ADD "last_logout_at" datetime DEFAULT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "users" ADD "last_activity_at" datetime DEFAULT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "users" ADD "last_login_from_ip_address" varchar(255) DEFAULT NULL
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_users_on_last_logout_at_and_last_activity_at" ON "users" ("last_logout_at", "last_activity_at")
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20101224223624')[0m
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:58:21 UTC +00:00], ["crypted_password", "$2a$04$oUSVCnMPDebCY8BLucEXse.Xs9hIg6ZXdCzfM6sFpEFWk8k.d2Mx6"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "ojbBUGxZzhTRaAmE5ovb"], ["updated_at", Tue, 08 Oct 2013 08:58:21 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (1.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:58:21 UTC +00:00], ["crypted_password", "$2a$04$bbKvSb0qAe.toPAcH9WvUOnEJceTYJOnInXxbhzOVyRF5fc3J2QUW"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "fkBNNqSr9stGGaB3xfcX"], ["updated_at", Tue, 08 Oct 2013 08:58:21 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:48:21' )[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:58:21 UTC +00:00], ["crypted_password", "$2a$04$4ZZ23ESE3/7NRuhTCuxyU./TQK4RAulYBsrzKXuDKndqOFe9jxQBa"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "2A41qmrNmAQgLPuxmhfH"], ["updated_at", Tue, 08 Oct 2013 08:58:21 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:58:21.910932' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:58:21 UTC +00:00], ["crypted_password", "$2a$04$8oVCJ2OVX6BjiiXeCW6Us.TO2RbNJX44Uw5UaldY7pUnIdIPv2VdG"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "SzqpWLzxSESG287sZVqq"], ["updated_at", Tue, 08 Oct 2013 08:58:21 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:58:21.922611' WHERE "users"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_logout_at" = '2013-10-08 08:58:21.923486' WHERE "users"."id" = 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:58:21 UTC +00:00], ["crypted_password", "$2a$04$CtEZgtUy0X9EdjPCojQ7wuDjyrBlhbhrht/wK7nS/AO6SFFXZF5AC"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "ipC8BzUMEzpnJVwq3SuL"], ["updated_at", Tue, 08 Oct 2013 08:58:21 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:58:21.932949' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
Processing by ApplicationController#some_action as HTML
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_activity_at" = '2013-10-08 08:58:21.942489' WHERE "users"."id" = 1
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:58:21 UTC +00:00], ["crypted_password", "$2a$04$bWKDSOChlPPL8n9wEqa4XuZpEmJuleKjR.5mUDgRZen4pgUGlRgHu"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "jSXkpwdcz9ojzQqcZYsZ"], ["updated_at", Tue, 08 Oct 2013 08:58:21 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:58:21.949381' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
Processing by ApplicationController#some_action as HTML
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_activity_at" = '2013-10-08 08:58:21.951703' WHERE "users"."id" = 1[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:58:21 UTC +00:00], ["crypted_password", "$2a$04$r3JcZXiokuqdDCBVFFlYhu5Mm5d6cUEvKqqz/oy0FfJOBFxgxnJt6"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "t6GqKJQKuiFpVdhAvUzz"], ["updated_at", Tue, 08 Oct 2013 08:58:21 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:58:21.958208' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
Processing by ApplicationController#some_action_making_a_non_persisted_change_to_the_user as HTML
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_activity_at" = '2013-10-08 08:58:21.960931' WHERE "users"."id" = 1
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:58:21 UTC +00:00], ["crypted_password", "$2a$04$TUGolf9OdOLkJMWA6l7cEuh5WKIspsNFloOa2t7zyFLOy3uk6BVoa"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "BY2nbqd3px5uULDyMxHt"], ["updated_at", Tue, 08 Oct 2013 08:58:21 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:58:21.967825' WHERE "users"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
Processing by ApplicationController#some_action as HTML
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_activity_at" = '2013-10-08 08:58:21.994785' WHERE "users"."id" = 1
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:48:21' )[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:48:21' )
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:58:22 UTC +00:00], ["crypted_password", "$2a$04$gzyiXHX.6gacoK2OaUxPyuYtU0FNPZjElv80Xt2b0tUdFS9Lr38yG"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "x81F558sn7A6x6P1oBB7"], ["updated_at", Tue, 08 Oct 2013 08:58:22 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:58:22 UTC +00:00], ["crypted_password", "$2a$04$EGFRBhvtHQXgbHFRJGCgZO.BK5ooXzUXJeRfG.x.H47LMySgU6ggO"], ["email", "bla1@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "uxmpzHajgiRy7Zsi11eq"], ["updated_at", Tue, 08 Oct 2013 08:58:22 UTC +00:00], ["username", "gizmo1"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:58:22.005228' WHERE "users"."id" = 2
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 2[0m
Processing by ApplicationController#some_action as HTML
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_activity_at" = '2013-10-08 08:58:22.007097' WHERE "users"."id" = 2
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:58:22 UTC +00:00], ["crypted_password", "$2a$04$/hTx2Ci.0ykrTzYLaJH0Yer1WRpbxQ6ubM464MRHnU580NOVLCp82"], ["email", "bla2@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "fbaLpxfN3iq1yPFJwaYM"], ["updated_at", Tue, 08 Oct 2013 08:58:22 UTC +00:00], ["username", "gizmo2"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:58:22.011148' WHERE "users"."id" = 3
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 3[0m
Processing by ApplicationController#some_action as HTML
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_activity_at" = '2013-10-08 08:58:22.012575' WHERE "users"."id" = 3
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:58:22 UTC +00:00], ["crypted_password", "$2a$04$8kA/Wh2IeE1pqFkqO4LpnOIFkoZh6uiz45lJtgFzSF/LFhmzNKZgu"], ["email", "bla3@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "RvNFJrSe2qHrbsazyjBP"], ["updated_at", Tue, 08 Oct 2013 08:58:22 UTC +00:00], ["username", "gizmo3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:58:22.016293' WHERE "users"."id" = 4
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 4[0m
Processing by ApplicationController#some_action as HTML
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_activity_at" = '2013-10-08 08:58:22.017293' WHERE "users"."id" = 4
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:48:22' )[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:48:22' )
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:48:22' )[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:48:22' )
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:58:22 UTC +00:00], ["crypted_password", "$2a$04$ODI0qYr9F9riQybLwVJ2NeYNs/1dVm7RSpjIs7Ow8u3vdi3hZgq/C"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "CmZ3Cm2bejsN4UXGLsfb"], ["updated_at", Tue, 08 Oct 2013 08:58:22 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:58:22 UTC +00:00], ["crypted_password", "$2a$04$tMTCXUd3Q4KUbw//FbjLwO0Vzjlk6XEE7q.qoXXw9WyCrJrSI0bri"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "tJkBxyooFB3EpdMBArxT"], ["updated_at", Tue, 08 Oct 2013 08:58:22 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:58:22 UTC +00:00], ["crypted_password", "$2a$04$zyn/gqhvYZGhYpPmHXAbLeheabHNu6g.xpS4b23TlU2nM0h8VEEEy"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "G15r4ynuCWz7Cpo9q21T"], ["updated_at", Tue, 08 Oct 2013 08:58:22 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
Processing by ApplicationController#some_action as HTML
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:58:22 UTC +00:00], ["crypted_password", "$2a$04$yQoDVoSoTesK5utVt9TOOusdMDwroAyIMzJgcU3D4Q.DaEktgsWqG"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "X7xpgK4XeXzGDEqsNE2X"], ["updated_at", Tue, 08 Oct 2013 08:58:22 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by ApplicationController#some_action as HTML
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to AddActivityLoggingToUsers (20101224223624)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_users_on_last_logout_at_and_last_activity_at')
  [1m[36m (0.2ms)[0m  [1mDROP INDEX "index_users_on_last_logout_at_and_last_activity_at"[0m
  [1m[35m (0.3ms)[0m  CREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_logout_at" datetime, "last_activity_at" datetime, "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "users"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_logout_at" datetime, "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("altered_users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "altered_users"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "altered_users"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_logout_at" datetime, "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "users"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("altered_users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "altered_users"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "altered_users"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "users"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("altered_users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "altered_users"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "altered_users"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "users"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("altered_users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "altered_users"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "altered_users"[0m
  [1m[35m (0.1ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20101224223624'
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20101224223620)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (0.1ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20101224223620'
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::SetupAndTeardownAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::TestUnitAssertionAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ViewRendering instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ControllerExampleGroup instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20101224223620)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255) NOT NULL, "email" varchar(255), "crypted_password" varchar(255), "salt" varchar(255), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20101224223620')[0m
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (0.9ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to AddActivityLoggingToUsers (20101224223624)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ADD "last_login_at" datetime DEFAULT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "users" ADD "last_logout_at" datetime DEFAULT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "users" ADD "last_activity_at" datetime DEFAULT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "users" ADD "last_login_from_ip_address" varchar(255) DEFAULT NULL
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_users_on_last_logout_at_and_last_activity_at" ON "users" ("last_logout_at", "last_activity_at")
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20101224223624')[0m
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:58:28 UTC +00:00], ["crypted_password", "$2a$04$yscKx6QribPEUbVh9D8KF.oGbo5Ru/.4jUcbrn013VnZQXnbvIxEq"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "1BiFjbiQLXLCLsgLf7zT"], ["updated_at", Tue, 08 Oct 2013 08:58:28 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:58:28 UTC +00:00], ["crypted_password", "$2a$04$4lLEDE6eNVI9BG4J4iF1o.NEUgNFg83xx8gzJueEYCbo9uwfoeaTa"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "iB48FNHbpeACDzc1cV9J"], ["updated_at", Tue, 08 Oct 2013 08:58:28 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:48:28' )[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:58:28 UTC +00:00], ["crypted_password", "$2a$04$Ewcj5r7qFAKMJc8dPe1L6.7G7X98rjgcXisDyTEdlOGgMnRCQLSkO"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "CJeRgpQhS3SsqqsTonzx"], ["updated_at", Tue, 08 Oct 2013 08:58:28 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:58:28.900227' WHERE "users"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:58:28 UTC +00:00], ["crypted_password", "$2a$04$T/QuO0Mo4uIb0KD99HJnceikriWGXhLsnpHct1Cw8xIEaY5Lo7iCu"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "ztstQe9HqTXKpRJtqZCB"], ["updated_at", Tue, 08 Oct 2013 08:58:28 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:58:28.912086' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_logout_at" = '2013-10-08 08:58:28.912793' WHERE "users"."id" = 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:58:28 UTC +00:00], ["crypted_password", "$2a$04$w/UXxHax5LTdI1K9m7BuOex6Ad4eZSiR/nnDcToUhwZUQnUT551/."], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "uwJRAH5zxFNjwupnD4fm"], ["updated_at", Tue, 08 Oct 2013 08:58:28 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:58:28.920648' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
Processing by ApplicationController#some_action as HTML
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_activity_at" = '2013-10-08 08:58:28.930373' WHERE "users"."id" = 1
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:58:28 UTC +00:00], ["crypted_password", "$2a$04$j3mdb3HLMGxy3.xGnSxZJewIRTNhJZM9/j.8v6jJdR7g40Lfl3CDi"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "SsUt73T1oRGy3Z5wxxsx"], ["updated_at", Tue, 08 Oct 2013 08:58:28 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:58:28.938951' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
Processing by ApplicationController#some_action as HTML
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_activity_at" = '2013-10-08 08:58:28.941992' WHERE "users"."id" = 1[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:58:28 UTC +00:00], ["crypted_password", "$2a$04$jnSsPnMCDhKmryox7WUJsu2Ecf6FdRDaa5Gr4UpUp1cO2ldIv/wbi"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "CWCq2qqyvAXHhxpaCGmm"], ["updated_at", Tue, 08 Oct 2013 08:58:28 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:58:28.948957' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
Processing by ApplicationController#some_action_making_a_non_persisted_change_to_the_user as HTML
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_activity_at" = '2013-10-08 08:58:28.951036' WHERE "users"."id" = 1
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:58:28 UTC +00:00], ["crypted_password", "$2a$04$GkwyrAb8EamIs7feDW6tiOH6lCsYt6Rc1x7A9/kAqU6MjLlfih9xC"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "PqX2fR4ke7maMP5Wnq9U"], ["updated_at", Tue, 08 Oct 2013 08:58:28 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:58:28.957378' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
Processing by ApplicationController#some_action as HTML
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_activity_at" = '2013-10-08 08:58:28.985920' WHERE "users"."id" = 1
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:48:28' )[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:48:28' )
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:58:28 UTC +00:00], ["crypted_password", "$2a$04$95A353gpdvn9W.lm7n441.t1jEegwCw/TatANaZcC7qwAhQYJq9nm"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "7sFACirCWQpsNmfbgWes"], ["updated_at", Tue, 08 Oct 2013 08:58:28 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:58:28 UTC +00:00], ["crypted_password", "$2a$04$gVVWAkqNpp2O.OfXXqiu6eyzL9rFjoJavKwKorIeWcAIznD7ymlDa"], ["email", "bla1@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "eE3yLkYXXQ6tkCLjHGsp"], ["updated_at", Tue, 08 Oct 2013 08:58:28 UTC +00:00], ["username", "gizmo1"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:58:28.997662' WHERE "users"."id" = 2
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 2[0m
Processing by ApplicationController#some_action as HTML
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_activity_at" = '2013-10-08 08:58:28.999780' WHERE "users"."id" = 2
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:58:29 UTC +00:00], ["crypted_password", "$2a$04$iG0mMN6S2XBSss2CFIPcLuNXOVUDXlxYSaxu6fNTMAPI9K8oj3z.O"], ["email", "bla2@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "X93qv1ypY1nRkufvozuv"], ["updated_at", Tue, 08 Oct 2013 08:58:29 UTC +00:00], ["username", "gizmo2"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:58:29.003534' WHERE "users"."id" = 3
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 3[0m
Processing by ApplicationController#some_action as HTML
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_activity_at" = '2013-10-08 08:58:29.004614' WHERE "users"."id" = 3
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:58:29 UTC +00:00], ["crypted_password", "$2a$04$Ha5jlkkTo49NERM16VU.fenEwszA3gTc9mhsqvD1slTsu1R9/mrhe"], ["email", "bla3@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "S4Jz3Fa2g2V1p91PeDtq"], ["updated_at", Tue, 08 Oct 2013 08:58:29 UTC +00:00], ["username", "gizmo3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:58:29.008181' WHERE "users"."id" = 4
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 4[0m
Processing by ApplicationController#some_action as HTML
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_activity_at" = '2013-10-08 08:58:29.009228' WHERE "users"."id" = 4
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:48:29' )[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:48:29' )
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:48:29' )[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:48:29' )
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:58:29 UTC +00:00], ["crypted_password", "$2a$04$SbieNQA5PKQrLYLnY0T5a.k3ynaY4uxQnWPmOhNKtmfttsh6mCrLK"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "vjzmi28dfZenT6uaiLzk"], ["updated_at", Tue, 08 Oct 2013 08:58:29 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:58:29 UTC +00:00], ["crypted_password", "$2a$04$FaVWjxTUyqf4JoqxwddMjuRZF11ol6bzVZvjJQd7wMw/TGOheC.OS"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "vsDKzwGipz1Pc8oup2p1"], ["updated_at", Tue, 08 Oct 2013 08:58:29 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:58:29 UTC +00:00], ["crypted_password", "$2a$04$BU5JRzlZdWi6LbgxnX4.Qu.x5RJu3c1pHuMq1egzpk9uRfA1TY2pq"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "yB6vg8p68oFhSxuhhWzo"], ["updated_at", Tue, 08 Oct 2013 08:58:29 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
Processing by ApplicationController#some_action as HTML
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:58:29 UTC +00:00], ["crypted_password", "$2a$04$CKoLuCXBM4hLKZhhokQieOrcSY1SPBainmPZNMGhULbJS.SD5kvBa"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "nTzEz354hdofXQPtTMc2"], ["updated_at", Tue, 08 Oct 2013 08:58:29 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by ApplicationController#some_action as HTML
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to AddActivityLoggingToUsers (20101224223624)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_users_on_last_logout_at_and_last_activity_at')
  [1m[36m (0.2ms)[0m  [1mDROP INDEX "index_users_on_last_logout_at_and_last_activity_at"[0m
  [1m[35m (0.5ms)[0m  CREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_logout_at" datetime, "last_activity_at" datetime, "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "users"
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_logout_at" datetime, "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("altered_users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "altered_users"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "altered_users"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_logout_at" datetime, "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "users"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("altered_users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "altered_users"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "altered_users"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "users"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("altered_users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "altered_users"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "altered_users"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "users"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("altered_users")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "altered_users"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "altered_users"[0m
  [1m[35m (0.1ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20101224223624'
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.8ms)[0m  DROP TABLE "users"
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to CreateUsers (20101224223620)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "users"
SQLite3::SQLException: no such table: users: DROP TABLE "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::SetupAndTeardownAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::TestUnitAssertionAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ViewRendering instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ControllerExampleGroup instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20101224223620)
  [1m[35m (0.1ms)[0m  DROP TABLE "users"
SQLite3::SQLException: no such table: users: DROP TABLE "users"
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20101224223620)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "users"
SQLite3::SQLException: no such table: users: DROP TABLE "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::SetupAndTeardownAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::TestUnitAssertionAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ViewRendering instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ControllerExampleGroup instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20101224223620)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (2.7ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to AddActivityLoggingToUsers (20101224223624)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "users" ADD "last_login_at" datetime DEFAULT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "users" ADD "last_logout_at" datetime DEFAULT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "users" ADD "last_activity_at" datetime DEFAULT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "users" ADD "last_login_from_ip_address" varchar(255) DEFAULT NULL[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_users_on_last_logout_at_and_last_activity_at" ON "users" ("last_logout_at", "last_activity_at")[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20101224223624')
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["crypted_password", "$2a$04$Eg1A3RWQg0INkVqS8/y0teGa6bi4fQ1vRZ0zLT1GSOrvlvRHfyDE."], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "si2fMfoSaf9LJkziqdcQ"], ["updated_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["crypted_password", "$2a$04$BG8uRnDxuM/8LoILCKFDuu2f6qnEZVGEkzj7WCeh/QzxLcj5NkCfO"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "ZaRH8Y5dqJzHg2TRWi2D"], ["updated_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:48:52' )
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["crypted_password", "$2a$04$tjPEl6X/ZwJnEtfH.kah.ud2bPW27lUpW0SXwgX44bYlW1XAgs8ri"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "2yjkP2ESexB9ZzHaBGns"], ["updated_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:58:52.646671' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["crypted_password", "$2a$04$HTIL/pZoNtQQx5Kw2dNo3en8YRamkX/ne3uAeq4K6J2RGCAvHM2F."], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "Cwqs4r64sFugj1BFipvQ"], ["updated_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:58:52.660086' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_logout_at" = '2013-10-08 08:58:52.661036' WHERE "users"."id" = 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["crypted_password", "$2a$04$7dZ8WEMru63RzYasAQf73u9vMmcCG2qJafwHqLXmmfAH1aD5BFNmu"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "dn6H7tiAToQsTKezycvc"], ["updated_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:58:52.670862' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
Processing by ApplicationController#some_action as HTML
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_activity_at" = '2013-10-08 08:58:52.681613' WHERE "users"."id" = 1[0m
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.1ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["crypted_password", "$2a$04$GftZP5pTAW3.dCaxWp0gJO1Wv8wrODEqY4KE8uWaLckABiinogYtm"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "DqRPsHfoobGkpadQ7mKo"], ["updated_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:58:52.688931' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
Processing by ApplicationController#some_action as HTML
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_activity_at" = '2013-10-08 08:58:52.691668' WHERE "users"."id" = 1
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["crypted_password", "$2a$04$1A6VdB6PFK64tgRBB3apMenW3eCcfqA/N0ah3QTrLtA3wH5oQyVL."], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "CoPQm8xhuhGmq9sZgehW"], ["updated_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:58:52.698203' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
Processing by ApplicationController#some_action_making_a_non_persisted_change_to_the_user as HTML
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_activity_at" = '2013-10-08 08:58:52.700332' WHERE "users"."id" = 1[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["crypted_password", "$2a$04$.ed/A8eqc4oATPV33/1YjOa4cxBlpMUT.LU8hsfIT5.6Fo8ve.vCy"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "Zdcdjmq4C9Vsq7XUBHYy"], ["updated_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:58:52.706535' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
Processing by ApplicationController#some_action as HTML
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_activity_at" = '2013-10-08 08:58:52.734812' WHERE "users"."id" = 1[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:48:52' )
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:48:52' )[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["crypted_password", "$2a$04$Ya2aNVZeo7zOxm.AFdlQfuvj1tWIVPDo8YLd8e21uQ3INl.DHUYXG"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "ryr1Gnq48ewxPNaZNzyH"], ["updated_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["crypted_password", "$2a$04$d/La8YmXIAvle4R4pWzxAOnP9H9czwCS4e5flmeqfvCjcU2NhfxAq"], ["email", "bla1@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "GqJqj2mxKBxcsoRjKqbW"], ["updated_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["username", "gizmo1"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:58:52.745631' WHERE "users"."id" = 2[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 2
Processing by ApplicationController#some_action as HTML
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_activity_at" = '2013-10-08 08:58:52.747506' WHERE "users"."id" = 2[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["crypted_password", "$2a$04$KWZFlps3hG7KhNQ.uNWhA.0Ao13GL6qEKdQx3I9TVbJrT.N6xk5A6"], ["email", "bla2@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "Bx6y7Ew8QsgChy7bm4wd"], ["updated_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["username", "gizmo2"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:58:52.751697' WHERE "users"."id" = 3[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 3
Processing by ApplicationController#some_action as HTML
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_activity_at" = '2013-10-08 08:58:52.753043' WHERE "users"."id" = 3[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["crypted_password", "$2a$04$sOASAwwpgulS8fEukBxbh.8rYJOyVF9NivAVZGdN.JIzoBWVvzA1e"], ["email", "bla3@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "AXCqJBkFK9CYtabo6zRY"], ["updated_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["username", "gizmo3"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:58:52.756718' WHERE "users"."id" = 4[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 4
Processing by ApplicationController#some_action as HTML
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_activity_at" = '2013-10-08 08:58:52.757748' WHERE "users"."id" = 4[0m
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:48:52' )
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:48:52' )[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:48:52' )
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:48:52' )[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["crypted_password", "$2a$04$Dbf9cMVpMe0oIvuIoLETX.hRfTmEtQZ.uR08eiuzrysTPYUFvWNwy"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "6kS6gkNG5mTbTRSnnyrE"], ["updated_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["crypted_password", "$2a$04$aD7r44ussuQjhzIlSadNWeB7tB9f3qFEqEoE31L.w2MjezOoen7UW"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "GTHLGWT7umn9g1Cuozox"], ["updated_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["crypted_password", "$2a$04$ElgVrHD.EYeeKlfcogUTAO2I..Oef15MOfXC9dwnIF6LlOxd/hMfa"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "sX1uGniBpzYRv3VzL82K"], ["updated_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
Processing by ApplicationController#some_action as HTML
Completed 200 OK in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["crypted_password", "$2a$04$Gm/6sbpj9O0dD2POtcxq8O/P65Sc7RDxPHukaof5qSU2TwNnZw.n2"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "Df8z5cTZsQiLzLGS84Uj"], ["updated_at", Tue, 08 Oct 2013 08:58:52 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by ApplicationController#some_action as HTML
Completed 200 OK in 0ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to AddActivityLoggingToUsers (20101224223624)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_info('index_users_on_last_logout_at_and_last_activity_at')[0m
  [1m[35m (0.3ms)[0m  DROP INDEX "index_users_on_last_logout_at_and_last_activity_at"
  [1m[36m (0.4ms)[0m  [1mCREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_logout_at" datetime, "last_activity_at" datetime, "last_login_from_ip_address" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "users"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "users"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_logout_at" datetime, "last_login_from_ip_address" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("altered_users")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "altered_users"[0m
  [1m[35m (0.2ms)[0m  DROP TABLE "altered_users"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_logout_at" datetime, "last_login_from_ip_address" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "users"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "users"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_login_from_ip_address" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("altered_users")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "altered_users"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "altered_users"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_login_from_ip_address" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "users"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "users"
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_from_ip_address" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("altered_users")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "altered_users"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "altered_users"
  [1m[36m (0.1ms)[0m  [1mCREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_from_ip_address" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("users")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "users"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "users"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255)) [0m
  [1m[35m (0.0ms)[0m  PRAGMA index_list("altered_users")
  [1m[36m (0.0ms)[0m  [1mSELECT * FROM "altered_users"[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "altered_users"
  [1m[36m (0.1ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20101224223624'[0m
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to CreateUsers (20101224223620)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "users"
  [1m[36m (0.1ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20101224223620'[0m
  [1m[35m (0.7ms)[0m  commit transaction
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::SetupAndTeardownAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::TestUnitAssertionAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ViewRendering instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ControllerExampleGroup instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20101224223620)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255) NOT NULL, "email" varchar(255), "crypted_password" varchar(255), "salt" varchar(255), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20101224223620')[0m
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255)) [0m
SQLite3::SQLException: table "users" already exists: CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255)) 
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to CreateUsers (20101224223620)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "users"
  [1m[36m (0.1ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20101224223620'[0m
  [1m[35m (0.7ms)[0m  commit transaction
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::SetupAndTeardownAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::TestUnitAssertionAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ViewRendering instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ControllerExampleGroup instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20101224223620)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255) NOT NULL, "email" varchar(255), "crypted_password" varchar(255), "salt" varchar(255), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20101224223620')[0m
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (1.0ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to AddActivityLoggingToUsers (20101224223624)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ADD "last_login_at" datetime DEFAULT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "users" ADD "last_logout_at" datetime DEFAULT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "users" ADD "last_activity_at" datetime DEFAULT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "users" ADD "last_login_from_ip_address" varchar(255) DEFAULT NULL
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_users_on_last_logout_at_and_last_activity_at" ON "users" ("last_logout_at", "last_activity_at")
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20101224223624')[0m
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["crypted_password", "$2a$04$uQIGRa4yAaEWcboowsIiMu7xYELnG9ozDJ4roliZ0l7XzQ08qX2C6"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "j5mpEruL8LzMZJ754LUA"], ["updated_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["crypted_password", "$2a$04$BoijAXzZoauzfpCKrcL9YOTy1sFnMC3Mnbg.dzCq8T.ajCUU2qeva"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "DySfAr5HEs1sxtzyzhq6"], ["updated_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:49:05' )[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["crypted_password", "$2a$04$n52113F9gMTSgJVhJN.0ee241qc0j0Bwe9HVmJihxEMf2mLmQLftK"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "3NLP2cv1spSCyeHa8vMT"], ["updated_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:59:05.045331' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["crypted_password", "$2a$04$kRHbdxFO899hiaAb3I/Y3.hOMQEcq5wTOohyPktoY7qK72bH/HKrq"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "Gibze4bGAyXpVLpqrRdq"], ["updated_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:59:05.058303' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_logout_at" = '2013-10-08 08:59:05.059133' WHERE "users"."id" = 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["crypted_password", "$2a$04$o4dB.63/JQ4q1KNT2oVOVex5dIzy7ve5WdvBBL1NGl6Zq7P8XqGGW"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "wjpz7zwfWxonpN9MPzeh"], ["updated_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:59:05.067437' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
Processing by ApplicationController#some_action as HTML
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_activity_at" = '2013-10-08 08:59:05.077614' WHERE "users"."id" = 1
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["crypted_password", "$2a$04$D4Ali70iiU6wformO8FOZuckjEoP1hBSMElQ8JfCT0lvJbq6YRTaO"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "wi6xQeAWnG36B7KB2kPT"], ["updated_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:59:05.086248' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
Processing by ApplicationController#some_action as HTML
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_activity_at" = '2013-10-08 08:59:05.089114' WHERE "users"."id" = 1[0m
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.1ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["crypted_password", "$2a$04$Ct2P7SZKXtzfqNiETE97vOpTfIcJLkS32RLh3Xby/u5HsJBVlKWvq"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "eeMkehFbaum8ev8EDHp9"], ["updated_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:59:05.096386' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
Processing by ApplicationController#some_action_making_a_non_persisted_change_to_the_user as HTML
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_activity_at" = '2013-10-08 08:59:05.098801' WHERE "users"."id" = 1
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["crypted_password", "$2a$04$EoqCDsdIj5qQBRUhLNe8meHAilYJeEGA3W0LLtD4H3p0./DLZoGxi"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "BGB6CzoUXpLn6vojoomP"], ["updated_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:59:05.105075' WHERE "users"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
Processing by ApplicationController#some_action as HTML
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_activity_at" = '2013-10-08 08:59:05.131491' WHERE "users"."id" = 1
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:49:05' )[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:49:05' )
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["crypted_password", "$2a$04$8GXYWJDu5pTzEFifmsdNvOqDz.m4SIFxReIwFg5GnXiy4gGZee1CG"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "fzBnZe3cKress2MdK9Uw"], ["updated_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["crypted_password", "$2a$04$F9EpV1Dr0DGWxUtkqjbP.ODLlCJR.hO74kuWUa2K1v5sTuxeJ3/8q"], ["email", "bla1@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "V65cr95EapX78RFhypXe"], ["updated_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["username", "gizmo1"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:59:05.142614' WHERE "users"."id" = 2
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 2[0m
Processing by ApplicationController#some_action as HTML
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_activity_at" = '2013-10-08 08:59:05.144493' WHERE "users"."id" = 2
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["crypted_password", "$2a$04$kBOf25Y.DXmtyJkkTsGDiOcKUhmDBFZhelC1KZtBonBuCC7ytA8z6"], ["email", "bla2@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "e4woB7p6HtsR241hyGJj"], ["updated_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["username", "gizmo2"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:59:05.148138' WHERE "users"."id" = 3
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 3[0m
Processing by ApplicationController#some_action as HTML
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_activity_at" = '2013-10-08 08:59:05.149183' WHERE "users"."id" = 3
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["crypted_password", "$2a$04$Y9XD4PbItIi4Tu1H73/Gm.FMQZ8wBjXdW8it3Lrp2h0Hyys7qon2K"], ["email", "bla3@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "oP5MmZ6VHQ43UFGWybgy"], ["updated_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["username", "gizmo3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:59:05.152751' WHERE "users"."id" = 4
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 4[0m
Processing by ApplicationController#some_action as HTML
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_activity_at" = '2013-10-08 08:59:05.153705' WHERE "users"."id" = 4
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:49:05' )[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:49:05' )
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:49:05' )[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:49:05' )
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["crypted_password", "$2a$04$sN8T/iHd3c6se1tjDYfvP.DySTVmGk6a4d/Gfxy3/6NU89Xul1lYK"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "LsWCiUsuafz4pRF41iNP"], ["updated_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["crypted_password", "$2a$04$UuRybvbL9AKuBboYr9L.0O/UGMH2YVLC9X/l.DC6kszIhTWr2WRVy"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "z2TjyBuQQizPzTbhFFa3"], ["updated_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["crypted_password", "$2a$04$OSt1qXsUi41UUz0KhokwNO3/M7ky1zisUUbX7rNHeBsoxKcUeFAwK"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "r2fENUzcE6GuucGrACfR"], ["updated_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
Processing by ApplicationController#some_action as HTML
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["crypted_password", "$2a$04$KdHJmXvmmW13mPLL9bzfKOp/BQMz2g7ci6JgfbdiAiaL4vuTFEHV2"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "oSfSFkpyqzsZiEbocqvc"], ["updated_at", Tue, 08 Oct 2013 08:59:05 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by ApplicationController#some_action as HTML
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to AddActivityLoggingToUsers (20101224223624)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_users_on_last_logout_at_and_last_activity_at')
  [1m[36m (0.2ms)[0m  [1mDROP INDEX "index_users_on_last_logout_at_and_last_activity_at"[0m
  [1m[35m (0.4ms)[0m  CREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_logout_at" datetime, "last_activity_at" datetime, "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "users"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_logout_at" datetime, "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("altered_users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "altered_users"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "altered_users"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_logout_at" datetime, "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "users"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("altered_users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "altered_users"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "altered_users"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "users"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("altered_users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "altered_users"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "altered_users"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "users"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("altered_users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "altered_users"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "altered_users"[0m
  [1m[35m (0.1ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20101224223624'
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20101224223620)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (0.1ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20101224223620'
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::SetupAndTeardownAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::TestUnitAssertionAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ViewRendering instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ControllerExampleGroup instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_activity_logging_spec.rb:6)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20101224223620)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255) NOT NULL, "email" varchar(255), "crypted_password" varchar(255), "salt" varchar(255), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20101224223620')[0m
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (1.0ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255)) 
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to AddActivityLoggingToUsers (20101224223624)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ADD "last_login_at" datetime DEFAULT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "users" ADD "last_logout_at" datetime DEFAULT NULL
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "users" ADD "last_activity_at" datetime DEFAULT NULL[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "users" ADD "last_login_from_ip_address" varchar(255) DEFAULT NULL
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35m (0.1ms)[0m  CREATE INDEX "index_users_on_last_logout_at_and_last_activity_at" ON "users" ("last_logout_at", "last_activity_at")
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20101224223624')[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["crypted_password", "$2a$04$JVokHv9TxbD6Wrue8bxDae2wN/0rfarUwiXPQduFSYVvmU/ZDyzDy"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "6teVxB9ZRbzoyztqNDyx"], ["updated_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["crypted_password", "$2a$04$Dw2J1abXbuHhsKVBS0lCA.bi83YCzFYakqCAVvG.Vzikt6pGdrEv2"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "5hGxn2aWQMFuxN2tCceJ"], ["updated_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:49:09' )[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["crypted_password", "$2a$04$vXfnY9Of6CPqvkSZthPAmugAPIGBHBRVxCbWXL5x9ODJUu4KopBye"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "LH6sGiK45EUkSBKGpxmP"], ["updated_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:59:09.045897' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["crypted_password", "$2a$04$G2GxmdNy3o6LAmZj.787QO248LoiAyWwPM7An0yfUdOIno82xZZ0G"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "qctUp5cwsgij52DpWFJN"], ["updated_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:59:09.056641' WHERE "users"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_logout_at" = '2013-10-08 08:59:09.057478' WHERE "users"."id" = 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["crypted_password", "$2a$04$Y3XBm0kCJk747bii04KsB.d9.2CJTlw0DcqQRvooJHiXqVCsJbyjW"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "dMzCN5iJrfK7t4vz8Wtp"], ["updated_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:59:09.066293' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
Processing by ApplicationController#some_action as HTML
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_activity_at" = '2013-10-08 08:59:09.075958' WHERE "users"."id" = 1
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["crypted_password", "$2a$04$NlvBIdDLByNelAM6JGAx3ur4zeWp2fbsW/5Q4OjXzubnkCaLYrY8W"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "YCqzhzAkhf32HpTCjW7B"], ["updated_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_at" = '2013-10-08 08:59:09.082868' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
Processing by ApplicationController#some_action as HTML
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_activity_at" = '2013-10-08 08:59:09.085448' WHERE "users"."id" = 1[0m
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["crypted_password", "$2a$04$RljHIEbTRO3c68bn3ZpI3eO/Tcwha99Q0F53pzNmip4qnWvpCpsbm"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "MHxgYJg5dDBircCJtxag"], ["updated_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:59:09.092389' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
Processing by ApplicationController#some_action_making_a_non_persisted_change_to_the_user as HTML
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_activity_at" = '2013-10-08 08:59:09.094659' WHERE "users"."id" = 1
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["crypted_password", "$2a$04$aCryZhnehQyno4FvordcY.YMLWBtukmRozkZq3kL3HmykXGadCMb2"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "3Sy8wTtTQqmrbeqKsb6s"], ["updated_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:59:09.100808' WHERE "users"."id" = 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
Processing by ApplicationController#some_action as HTML
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_activity_at" = '2013-10-08 08:59:09.127579' WHERE "users"."id" = 1
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:49:09' )[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:49:09' )
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["crypted_password", "$2a$04$gBP5JXErNcOWIm3P8RhM4.pBsf1/e5x09HXLKfoPbGJKgzCWVXTlq"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "WyzezktqvyVRSXPPqhx4"], ["updated_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["crypted_password", "$2a$04$9kOHogFhtFSO5C5E8MD/ZeS4OnIRy3PHEIY0/4m2piVQRaqKImJTS"], ["email", "bla1@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "KjgDP28fJDYsJcp5xPGx"], ["updated_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["username", "gizmo1"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:59:09.137884' WHERE "users"."id" = 2
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 2[0m
Processing by ApplicationController#some_action as HTML
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_activity_at" = '2013-10-08 08:59:09.139842' WHERE "users"."id" = 2
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["crypted_password", "$2a$04$hpxN.DPoQ.vPMBna0HWyaO5se17Rx3k2LQtaj2Ung3ZqC2CRcDT3i"], ["email", "bla2@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "zMT7aU7s9iUvi3EJD9Tw"], ["updated_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["username", "gizmo2"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:59:09.143737' WHERE "users"."id" = 3
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 3[0m
Processing by ApplicationController#some_action as HTML
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_activity_at" = '2013-10-08 08:59:09.144984' WHERE "users"."id" = 3
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["crypted_password", "$2a$04$JEbFjfDo7VGBz35V0hOwjuY6ZPE14qwJAGi3Y7EYml2.yMW2JQEta"], ["email", "bla3@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "vzvtFHLyqYBYn51o2DCT"], ["updated_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["username", "gizmo3"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_at" = '2013-10-08 08:59:09.148582' WHERE "users"."id" = 4
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 4[0m
Processing by ApplicationController#some_action as HTML
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "last_activity_at" = '2013-10-08 08:59:09.149626' WHERE "users"."id" = 4
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:49:09' )[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:49:09' )
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:49:09' )[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (last_activity_at IS NOT NULL) AND (last_logout_at IS NULL OR last_activity_at > last_logout_at) AND (last_activity_at > '2013-10-08 08:49:09' )
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["crypted_password", "$2a$04$oVqlBICn8Yys8tUbpC94QeFi/EbvwOv1fKyN09SEahk.gbjFvpLt6"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "zdXpD6EfPicYAL3ZpZ5p"], ["updated_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["crypted_password", "$2a$04$y899t0whwFgVR6UbCaK/2.LGG6bQnHUAh6I8bx/IOvqw8StKSj47u"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "HpuXGJFsh1j3fZA6u1Ak"], ["updated_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
Binary data inserted for `string` type on column `crypted_password`
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["crypted_password", "$2a$04$aWn327zspJrZxD1RtnU.quq/Rx2wVdEalpzagBZ1EFxEf.F/IJqRy"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "fj6kbC3Jx2SB6yjpa6xx"], ["updated_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["username", "gizmo"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "last_login_from_ip_address" = '0.0.0.0' WHERE "users"."id" = 1[0m
Processing by ApplicationController#some_action as HTML
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
Binary data inserted for `string` type on column `crypted_password`
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("created_at", "crypted_password", "email", "last_activity_at", "last_login_at", "last_login_from_ip_address", "last_logout_at", "salt", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["created_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["crypted_password", "$2a$04$GHUng4B55k1oRXup.tUy/OLLs7wnUco.iWm1yQ7eu20Lg2JAFmk9W"], ["email", "bla@bla.com"], ["last_activity_at", nil], ["last_login_at", nil], ["last_login_from_ip_address", nil], ["last_logout_at", nil], ["salt", "RcUc8gzCpXRG5U7qPPmF"], ["updated_at", Tue, 08 Oct 2013 08:59:09 UTC +00:00], ["username", "gizmo"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by ApplicationController#some_action as HTML
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to AddActivityLoggingToUsers (20101224223624)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35m (0.0ms)[0m  PRAGMA index_info('index_users_on_last_logout_at_and_last_activity_at')
  [1m[36m (0.2ms)[0m  [1mDROP INDEX "index_users_on_last_logout_at_and_last_activity_at"[0m
  [1m[35m (0.3ms)[0m  CREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_logout_at" datetime, "last_activity_at" datetime, "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "users"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_logout_at" datetime, "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("altered_users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "altered_users"
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "altered_users"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_logout_at" datetime, "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "users"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("altered_users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "altered_users"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "altered_users"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_at" datetime, "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "users"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("altered_users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "altered_users"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "altered_users"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "altered_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255), "last_login_from_ip_address" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "users"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255)) 
  [1m[36m (0.0ms)[0m  [1mPRAGMA index_list("altered_users")[0m
  [1m[35m (0.0ms)[0m  SELECT * FROM "altered_users"
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "altered_users"[0m
  [1m[35m (0.1ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20101224223624'
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20101224223620)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "users"[0m
  [1m[35m (0.1ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20101224223620'
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::SetupAndTeardownAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::TestUnitAssertionAdapter instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ViewRendering instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_spec.rb:6)
DEPRECATION WARNING: The InstanceMethods module inside ActiveSupport::Concern will be no longer included automatically. Please define instance methods directly in RSpec::Rails::ControllerExampleGroup instead. (called from <top (required)> at /Users/kir/Projects/opensource/sorcery/spec/models/controller_spec.rb:6)
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20101224223620)
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255) NOT NULL, "email" varchar(255), "crypted_password" varchar(255), "salt" varchar(255), "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20101224223620')[0m
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255)) [0m
SQLite3::SQLException: table "users" already exists: CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "username" varchar(255), "email" varchar(255), "crypted_password" varchar(255), "created_at" datetime, "updated_at" datetime, "salt" varchar(255)) 
  [1m[35m (0.8ms)[0m  DROP TABLE "users"
  [1m[36m (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
  [1m[35m (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Migrating to CreateUsers (20101224223620)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  DROP TABLE "users"
SQLite3::SQLException: no such table: users: DROP TABLE "users"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
